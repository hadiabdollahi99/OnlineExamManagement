<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Ø¬Ø²Ø¦ÛŒØ§Øª Ø¢Ø²Ù…ÙˆÙ†</title>
    <style>
        body { font-family: Arial; margin: 20px; }
        .menu { background: #333; padding: 10px; margin-bottom: 20px; }
        .menu a { color: white; margin: 0 10px; text-decoration: none; }
        .exam-header {
            background: #f8f9fa;
            padding: 20px;
            margin-bottom: 20px;
        }
        .btn {
            padding: 8px 15px;
            text-decoration: none;
            color: white;
            margin: 5px;
            display: inline-block;
        }
        .btn-edit { background: #ffc107; color: black; }
        .btn-delete { background: #dc3545; }
        .owner-badge {
            display: inline-block;
            padding: 3px 10px;
            background: #28a745;
            color: white;
            border-radius: 10px;
            font-size: 12px;
            margin-right: 10px;
        }
        .not-owner-message {
            background: #fff3cd;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid #ffeaa7;
        }
    </style>
</head>
<body>
<div class="menu">
    <a href="/teacher/dashboard">Ø¯Ø§Ø´Ø¨ÙˆØ±Ø¯</a>
    <a href="/teacher/courses">Ø¯ÙˆØ±Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ù†</a>
    <a th:href="@{/teacher/courses/{id}/exams(id=${exam.course.id})}">â† Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§</a>
</div>

<div class="exam-header">
    <h2 th:text="${exam.title}"></h2>

    <div>
        <span th:if="${isOwner}" class="owner-badge">âœ“ Ø´Ù…Ø§ ØµØ§Ø­Ø¨ Ø§ÛŒÙ† Ø¢Ø²Ù…ÙˆÙ† Ù‡Ø³ØªÛŒØ¯</span>
        <span>Ø§Ø³ØªØ§Ø¯: <strong th:text="${exam.teacher.firstName + ' ' + exam.teacher.lastName}"></strong></span>
    </div>

    <div style="color: #666; margin-top: 10px;">
        <p><strong>Ø¯ÙˆØ±Ù‡:</strong> <span th:text="${exam.course.title}"></span></p>
        <p><strong>Ø²Ù…Ø§Ù† Ø¢Ø²Ù…ÙˆÙ†:</strong> <span th:text="${exam.durationMinutes}"></span> Ø¯Ù‚ÛŒÙ‚Ù‡</p>
        <p><strong>ØªÙˆØ¶ÛŒØ­Ø§Øª:</strong> <span th:text="${exam.description}"></span></p>
        <p><strong>ØªØ§Ø±ÛŒØ® Ø§ÛŒØ¬Ø§Ø¯:</strong>
            <span th:text="${#temporals.format(exam.createdAt, 'yyyy/MM/dd HH:mm')}"></span>
        </p>
    </div>

    <div th:unless="${isOwner}" class="not-owner-message">
        âš  Ø´Ù…Ø§ ØµØ§Ø­Ø¨ Ø§ÛŒÙ† Ø¢Ø²Ù…ÙˆÙ† Ù†ÛŒØ³ØªÛŒØ¯. ÙÙ‚Ø· Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø¢Ù† Ø±Ø§ Ù…Ø´Ø§Ù‡Ø¯Ù‡ Ú©Ù†ÛŒØ¯.
    </div>

    <div style="margin-top: 15px;">
        <a th:href="@{/teacher/exams/{id}/edit(id=${exam.id})}"
           th:if="${isOwner}"
           class="btn btn-edit">âœï¸ ÙˆÛŒØ±Ø§ÛŒØ´ Ø¢Ø²Ù…ÙˆÙ†</a>
        <a th:href="@{/teacher/questions/exam/{id}(id=${exam.id})}"
           th:if="${isOwner}"
           style="background: #28a745; color: white; padding: 8px 15px; text-decoration: none; margin-right: 5px;">
            ğŸ“ Ù…Ø¯ÛŒØ±ÛŒØª Ø³ÙˆØ§Ù„Ø§Øª
        </a>

        <form th:action="@{/teacher/exams/{id}/delete(id=${exam.id})}"
              th:if="${isOwner}"
              method="post">
            <button type="submit" class="btn btn-delete"
                    onclick="return confirm('Ø¢ÛŒØ§ Ø§Ø² Ø­Ø°Ù Ø§ÛŒÙ† Ø¢Ø²Ù…ÙˆÙ† Ø§Ø·Ù…ÛŒÙ†Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ØŸ')">
                ğŸ—‘ï¸ Ø­Ø°Ù Ø¢Ø²Ù…ÙˆÙ†
            </button>
        </form>
    </div>
</div>
</body>
</html>